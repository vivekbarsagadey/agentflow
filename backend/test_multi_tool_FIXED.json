{
  "workflow": {
    "name": "Multi-Tool Analysis Agent - Sequential",
    "description": "Agent coordinates tools in sequence (not parallel) due to LangGraph limitations",
    "version": "1.0.0",
    "start_node": "input",
    
    "nodes": [
      {
        "id": "input",
        "type": "input",
        "metadata": {
          "description": "Receives text content for multi-tool analysis"
        }
      },
      {
        "id": "tool_summarization",
        "type": "llm",
        "metadata": {
          "source_id": "groq-llm",
          "prompt_template": "Tool: Text Summarization\n\nContent:\n{user_input}\n\nGenerate:\n1. Brief summary (2-3 sentences)\n2. Key points (3-5 bullet points)\n3. Main topic\n\nReturn ONLY valid JSON:\n{{\n  \"tool_name\": \"summarization\",\n  \"summary\": \"...\",\n  \"key_points\": [\"point1\", \"point2\", \"point3\"],\n  \"main_topic\": \"...\",\n  \"confidence\": 0.9\n}}",
          "system_prompt": "You are a summarization tool. Return ONLY JSON, no markdown, no explanations.",
          "temperature": 0.3,
          "max_tokens": 600,
          "output_key": "summarization_result"
        }
      },
      {
        "id": "tool_sentiment",
        "type": "llm",
        "metadata": {
          "source_id": "groq-llm",
          "prompt_template": "Tool: Sentiment Analysis\n\nContent:\n{user_input}\n\nAnalyze:\n1. Overall sentiment (positive/negative/neutral/mixed)\n2. Sentiment score (-1.0 to +1.0)\n3. Emotional tone\n4. Subjectivity\n\nReturn ONLY valid JSON:\n{{\n  \"tool_name\": \"sentiment\",\n  \"sentiment\": \"positive\",\n  \"score\": 0.75,\n  \"emotion\": \"excited\",\n  \"subjectivity\": \"objective\",\n  \"confidence\": 0.85\n}}",
          "system_prompt": "You are a sentiment analysis tool. Return ONLY JSON, no markdown.",
          "temperature": 0.1,
          "max_tokens": 400,
          "output_key": "sentiment_result"
        }
      },
      {
        "id": "tool_keywords",
        "type": "llm",
        "metadata": {
          "source_id": "groq-llm",
          "prompt_template": "Tool: Keyword Extraction\n\nContent:\n{user_input}\n\nExtract:\n1. Top keywords (5-10 words)\n2. Key phrases (2-5 phrases)\n3. Topics/themes\n4. Technical terms\n\nReturn ONLY valid JSON:\n{{\n  \"tool_name\": \"keywords\",\n  \"keywords\": [\"AI\", \"healthcare\", \"diagnostics\"],\n  \"phrases\": [\"machine learning\", \"early cancer detection\"],\n  \"topics\": [\"AI in healthcare\", \"medical diagnostics\"],\n  \"technical_terms\": [\"machine learning\", \"algorithms\"],\n  \"confidence\": 0.9\n}}",
          "system_prompt": "You are a keyword extraction tool. Return ONLY JSON, no markdown.",
          "temperature": 0.2,
          "max_tokens": 500,
          "output_key": "keywords_result"
        }
      },
      {
        "id": "tool_entities",
        "type": "llm",
        "metadata": {
          "source_id": "groq-llm",
          "prompt_template": "Tool: Entity Recognition\n\nContent:\n{user_input}\n\nIdentify:\n1. People (names, roles)\n2. Organizations (companies, institutions)\n3. Locations (cities, countries)\n4. Dates/Times\n5. Products/Technologies\n\nReturn ONLY valid JSON:\n{{\n  \"tool_name\": \"entities\",\n  \"people\": [],\n  \"organizations\": [\"Google Health\", \"IBM Watson\"],\n  \"locations\": [\"United States\", \"Europe\"],\n  \"dates\": [\"2024\"],\n  \"products\": [\"AI systems\"],\n  \"confidence\": 0.88\n}}",
          "system_prompt": "You are an entity recognition tool. Return ONLY JSON, no markdown.",
          "temperature": 0.1,
          "max_tokens": 600,
          "output_key": "entities_result"
        }
      },
      {
        "id": "tool_language_tone",
        "type": "llm",
        "metadata": {
          "source_id": "groq-llm",
          "prompt_template": "Tool: Language & Tone Detector\n\nContent:\n{user_input}\n\nDetect:\n1. Primary language\n2. Writing style\n3. Tone\n4. Readability level\n5. Target audience\n\nReturn ONLY valid JSON:\n{{\n  \"tool_name\": \"language_tone\",\n  \"language\": \"English\",\n  \"writing_style\": \"informative\",\n  \"tone\": \"professional\",\n  \"readability\": \"moderate\",\n  \"audience\": \"general public\",\n  \"confidence\": 0.92\n}}",
          "system_prompt": "You are a language and tone detection tool. Return ONLY JSON, no markdown.",
          "temperature": 0.2,
          "max_tokens": 400,
          "output_key": "language_tone_result"
        }
      },
      {
        "id": "result_aggregator",
        "type": "aggregator",
        "metadata": {
          "strategy": "merge",
          "source_keys": [
            "summarization_result",
            "sentiment_result",
            "keywords_result",
            "entities_result",
            "language_tone_result"
          ],
          "output_key": "aggregated_results",
          "include_metadata": true
        }
      },
      {
        "id": "agent_synthesizer",
        "type": "llm",
        "metadata": {
          "source_id": "groq-llm",
          "prompt_template": "You are the final synthesis agent. Combine all tool outputs into a comprehensive analysis report.\n\nOriginal Content:\n{user_input}\n\nTool Results:\n{aggregated_results}\n\nGenerate a comprehensive report with:\n1. Executive Summary\n2. Key Findings from Each Tool\n3. Cross-Tool Insights\n4. Overall Assessment\n5. Recommendations\n\nFormat as a professional analysis report.",
          "system_prompt": "You are a synthesis agent. Create coherent, actionable insights from multiple tool outputs.",
          "temperature": 0.4,
          "max_tokens": 1000,
          "output_key": "final_report"
        }
      },
      {
        "id": "final_output",
        "type": "aggregator",
        "metadata": {
          "strategy": "merge",
          "source_keys": [
            "aggregated_results",
            "final_report"
          ],
          "output_key": "final_output",
          "include_metadata": true
        }
      }
    ],
    
    "edges": [
      { "from": "input", "to": "tool_summarization" },
      { "from": "tool_summarization", "to": "tool_sentiment" },
      { "from": "tool_sentiment", "to": "tool_keywords" },
      { "from": "tool_keywords", "to": "tool_entities" },
      { "from": "tool_entities", "to": "tool_language_tone" },
      { "from": "tool_language_tone", "to": "result_aggregator" },
      { "from": "result_aggregator", "to": "agent_synthesizer" },
      { "from": "agent_synthesizer", "to": "final_output" }
    ],
    
    "queues": [
      {
        "id": "queue_input",
        "from": "input",
        "to": "tool_summarization",
        "bandwidth": {
          "max_requests_per_minute": 100,
          "max_tokens_per_minute": 50000
        }
      }
    ],
    
    "sources": [
      {
        "id": "groq-llm",
        "kind": "llm",
        "config": {
          "provider": "groq",
          "model": "llama-3.3-70b-versatile",
          "api_key_env": "GROQ_API_KEY"
        }
      }
    ],
    
    "metadata": {
      "pattern": "sequential_multi_tool",
      "note": "Tools execute sequentially (not parallel) due to LangGraph conditional routing limitations",
      "tools": [
        "summarization",
        "sentiment_analysis",
        "keyword_extraction",
        "entity_recognition",
        "language_tone_detection"
      ],
      "use_cases": [
        "Document analysis",
        "Content intelligence",
        "Research synthesis"
      ]
    }
  },
  "initial_state": {
    "user_input": "Artificial Intelligence is rapidly transforming the healthcare industry. Machine learning algorithms are now capable of diagnosing diseases from medical images with accuracy comparable to human experts. Companies like Google Health and IBM Watson are leading innovations in AI-powered diagnostics. In 2024, hospitals in the United States and Europe began implementing AI systems for early cancer detection, resulting in a 25% improvement in survival rates."
  }
}
